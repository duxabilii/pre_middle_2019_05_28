Билый Андрей Константинович

a.bilyi@urancompany.com


1. Сессии, кеши, сложные формы

Мы создаем админку, где админы сами пишут что хотят. И html теги тоже. И иногда теги эти не закрывают. Напишите как эту проблему можно решить и как лучше. Напишите код решения (форму сохранения текстового поля с обработчиком) и тесты к нему. Учтите что аккаунт админа тоже могут взломать и включите в сохранение базовые проверки на “спам”, с принудительной сменой пароля если админ выглядит не админом.


2. Трай, кетч, простые классы 

Напишите класс для работы с изображениями и методом Image::resize(max_width, max_height)

Image::resize(100, 200) должно уменьшать любую картинку в данные размеры, если картинка больше - то вписывать в эти параметры большую часть, сохраняя пропорции картинки, так

Картинка: 300х210 => 100x70

400x600=>100x150

400x800=>100x200

400x1000=>80x200

200x500=>80x200

При слишком большом размере файла или его “битости” возвращать ошибку и рисовать картинку “заглушку” (т.е. картинку размера 100х200 с надписью “ошибка обработки”). Все варианты картинок сделать с тестами.


3. Трейты, интерфейсы, наследование классов

Напишите два класса для экспорта товаров из базы, один экспортирует в csv (колонки: id, title), второй в html (где одна страница - одна карточка товара). Сделать возможность расширять особые экспорты - например в виде пдф каталога или xml для яндекс.директ.


4. Code review
<?php

/*

 * опишите что этот запрос делает

 * заметьте - это Postgresql - предположительно не знакомая вам база данных и вам нужно почитать документацию прежде чем ответить

 */

$sql = 'SELECT id FROM content.dict_rubrics WHERE title ILIKE \'%бибишвили%\' ORDER BY char_length(title) LIMIT 1';